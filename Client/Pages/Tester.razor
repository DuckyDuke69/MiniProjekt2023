@page "/threadlist"
@using Shared
@using global::Shared;

<h3>Trådliste</h3>

<ul>
    @foreach (var tråd in tråde)
    {
        <li>
            <h4>@tråd.Tråde_Overskrift</h4>
            <p>@tråd.Tekst</p>
            <p>Skrevet af: @tråd.bruger.Brugernavn</p>
            <p>Upvotes: @tråd.Upvote</p>
            <p>Downvotes: @tråd.Downvote</p>
        </li>
    }
</ul>

<h4>Opret en ny tråd</h4>
<form @onsubmit="OpretTråd">
    <div>
        <label for="trådOverskrift">Trådoverskrift:</label>
        <input type="text" id="trådOverskrift" @bind="nyTrådOverskrift" />
    </div>
    <div>
        <label for="trådTekst">Trådtekst:</label>
        <textarea id="trådTekst" @bind="nyTrådTekst"></textarea>
    </div>
    <button type="submit">Opret tråd</button>
</form>

@code {
    private List<Tråde> tråde = new List<Tråde>(); // Henter tråde fra datakilde
    private string nyTrådOverskrift = "";
    private string nyTrådTekst = "";

    private void OpretTråd()
    {
        // Tilføj logik for at oprette en ny tråd og gemme den i datakilden
        // For eksempel:
        var nyTråd = new Tråde(new Bruger("NuværendeBrugernavn"), nyTrådTekst, nyTrådOverskrift);
        tråde.Add(nyTråd);
        nyTrådOverskrift = "";
        nyTrådTekst = "";
    }
}
